"use strict";(self.webpackChunkpmnnt_docs=self.webpackChunkpmnnt_docs||[]).push([[1156],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,f=d["".concat(s,".").concat(m)]||d[m]||c[m]||o;return n?a.createElement(f,l(l({ref:t},p),{},{components:n})):a.createElement(f,l({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8215:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(7294);function r(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},9877:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7462),r=n(7294),o=n(2389),l=n(7984),i=n(6010),s="tabItem_LplD";function u(e){var t,n,o,u=e.lazy,p=e.block,c=e.defaultValue,d=e.values,m=e.groupId,f=e.className,h=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),y=null!=d?d:h.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),k=(0,l.lx)(y,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===c?c:null!=(t=null!=c?c:null==(n=h.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(o=h[0])?void 0:o.props.value;if(null!==g&&!y.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+y.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=(0,l.UB)(),v=b.tabGroupChoices,N=b.setTabGroupChoices,w=(0,r.useState)(g),x=w[0],T=w[1],E=[],I=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var P=v[m];null!=P&&P!==x&&y.some((function(e){return e.value===P}))&&T(P)}var C=function(e){var t=e.currentTarget,n=E.indexOf(t),a=y[n].value;a!==x&&(I(t),T(a),null!=m&&N(m,a))},S=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=E.indexOf(e.currentTarget)+1;n=E[a]||E[0];break;case"ArrowLeft":var r=E.indexOf(e.currentTarget)-1;n=E[r]||E[E.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":p},f)},y.map((function(e){var t=e.value,n=e.label,o=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:x===t?0:-1,"aria-selected":x===t,key:t,ref:function(e){return E.push(e)},onKeyDown:S,onFocus:C,onClick:C},o,{className:(0,i.Z)("tabs__item",s,null==o?void 0:o.className,{"tabs__item--active":x===t})}),null!=n?n:t)}))),u?(0,r.cloneElement)(h.filter((function(e){return e.props.value===x}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==x})}))))}function p(e){var t=(0,o.Z)();return r.createElement(u,(0,a.Z)({key:String(t)},e))}},197:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return u},metadata:function(){return c},toc:function(){return m}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),l=n(9877),i=n(8215),s=["components"],u={title:"drop-in frames integration",sidebar_label:"drop-in frames"},p=void 0,c={unversionedId:"payment/frames/index",id:"payment/frames/index",title:"drop-in frames integration",description:"make getting paid faster and easier than ever! paymennt APIs provide an easy way to let your customers pay for their orders easily and securely.",source:"@site/docs/1-payment/1-frames/index.mdx",sourceDirName:"1-payment/1-frames",slug:"/payment/frames/",permalink:"/docs/payment/frames/",tags:[],version:"current",frontMatter:{title:"drop-in frames integration",sidebar_label:"drop-in frames"},sidebar:"docs",previous:{title:"accept payments",permalink:"/docs/category/accept-payments"},next:{title:"hosted checkout",permalink:"/docs/payment/hosted/"}},d={},m=[{value:"Integration flow",id:"integration-flow",level:2},{value:"Integration details",id:"integration-details",level:2},{value:"Full example",id:"full-example",level:2},{value:"Test the Integration",id:"test-the-integration",level:2},{value:"Checkout Statuses",id:"checkout-statuses",level:2}],f={toc:m};function h(e){var t=e.components,u=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},f,u,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"make getting paid faster and easier than ever! ",(0,o.kt)("strong",{parentName:"p"},"paymennt")," APIs provide an easy way to let your customers pay for their orders easily and securely."),(0,o.kt)("p",null,"frames is an iframe solution that handles payment information. Your customer inputs their card details directly into our iframes, then we send you a token representing of the card details, so you can request a payment."),(0,o.kt)("h2",{id:"integration-flow"},"Integration flow"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"You embed the Frames payment form in your website."),(0,o.kt)("li",{parentName:"ol"},"Your customer enters payment details directly on your checkout page."),(0,o.kt)("li",{parentName:"ol"},"We process your customer's sensitive information and return a token representing those details. This process is called tokenization."),(0,o.kt)("li",{parentName:"ol"},"Your site backend system processes the order and makes the ",(0,o.kt)("a",{parentName:"li",href:"/api/#operation/create-token-payment"},"Create token payment")," API call to ",(0,o.kt)("strong",{parentName:"li"},"paymennt")," and obtains a checkout ID and a redirect URL."),(0,o.kt)("li",{parentName:"ol"},"Redirect the customer to the 3D-Secure redirect URL from the ",(0,o.kt)("a",{parentName:"li",href:"/api/#operation/create-token-payment"},"Create token payment")," API call."),(0,o.kt)("li",{parentName:"ol"},"In any of the cases in the previous step, the customer is finally redirected back to your website using the parameter ",(0,o.kt)("inlineCode",{parentName:"li"},"returnUrl")," specified in the ",(0,o.kt)("a",{parentName:"li",href:"/api/#operation/create-token-payment"},"Create token payment")," API call."),(0,o.kt)("li",{parentName:"ol"},"Once the customer has been redirected back to your website, make the ",(0,o.kt)("a",{parentName:"li",href:"/api/#operation/get-payment"},"Get payment")," API call to retrieve the status."),(0,o.kt)("li",{parentName:"ol"},"Based on the status of payment retrieved from the ",(0,o.kt)("a",{parentName:"li",href:"/api/#operation/get-payment"},"Get payment")," API call, you should update your order status on your backend system.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Website integration flow",src:n(1024).Z,width:"1101",height:"1053"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Make sure to check the ",(0,o.kt)("a",{parentName:"li",href:"/docs/golive/checklist"},"Website Checklist")," before going live.")),(0,o.kt)("p",null,"That's it! You're ready to start testing."),(0,o.kt)("h2",{id:"integration-details"},"Integration details"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Import PaymenntJS JavaScript file into the payment page")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<script src="https://pay.paymennt.com/static/js/paymennt-frames.js"><\/script>\n')),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"In your page JavaScript initialize PaymenntJS with your public key obtained from ",(0,o.kt)("strong",{parentName:"li"},"paymennt"),",")),(0,o.kt)("p",null,"Sample code :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'PaymenntJS.init({\n  publicKey: "{PAYMENNT_PUBLIC_KEY}",\n  selector: "#paymennt-card-frame"\n  mode: PaymenntJS.modes.LIVE,\n  onTokenized: function (data) {\n    // send data.token to server\n  },\n  onTokenizationFailed: function (data) {\n    // show data.error message\n  },\n  onValidationUpdate: function (data) {\n    if (data.valid) {\n      // enable pay button;\n    } else {\n      // disable pay button;\n    }\n  },\n});\n')),(0,o.kt)("p",null,"3- In your page, add an empty ",(0,o.kt)("inlineCode",{parentName:"p"},"<div>")," element and pass its selector to ",(0,o.kt)("inlineCode",{parentName:"p"},"PaymenntJS.init()")," method\nExample:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div id="paymennt-card-frame" class="card-frame"></div>\n')),(0,o.kt)("h2",{id:"full-example"},"Full example"),(0,o.kt)(l.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="app.js"',title:'"app.js"'},'var payButton = document.getElementById("pay-button");\nvar errorMessage = document.querySelector(".error-message");\nvar infoMessage = document.querySelector(".info-message");\n\npayButton.disabled = true;\n\nPaymenntJS.init({\n  publicKey: "pk_test_a941633441f48b73b9b9e1822227829a",\n  mode: PaymenntJS.modes.TEST,\n  onTokenized: function (data) {\n    infoMessage.innerText = data.token;\n  },\n  onTokenizationFailed: function (data) {\n    errorMessage.innerText = data.error;\n  },\n\n  onValidationUpdate: function (data) {\n    payButton.disabled = !data.valid;\n    if (!data.valid) {\n      var message = null;\n      for (var i = 0; i < data.validationErrors.length; ++i) {\n        var fieldValidation = data.validationErrors[i];\n        if (!message || fieldValidation.field === data.lastActiveField) {\n          message = fieldValidation.message;\n        }\n      }\n      if (!message) {\n        message = data.error ? data.error : "Invalid card details";\n      }\n      errorMessage.innerText = message;\n    } else {\n      errorMessage.innerText = "";\n    }\n  },\n});\n\npayButton.addEventListener("click", function (event) {\n  event.preventDefault();\n  PaymenntJS.submitPayment();\n});\n'))),(0,o.kt)(i.Z,{value:"html",label:"Html",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="index.html"',title:'"index.html"'},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Paymennt.com Frames</title>\n    <link rel="stylesheet" href="style.css" />\n  </head>\n\n  <body>\n    <div id="paymennt-frame" class="card-frame"></div>\n    <p class="info-message"></p>\n    <p class="error-message"></p>\n\n    <button id="pay-button" type="submit">Pay</button>\n\n    <script src="https://pay.paymennt.com/static/js/paymennt-frames.js"><\/script>\n    <script src="app.js"><\/script>\n  </body>\n</html>\n'))),(0,o.kt)(i.Z,{value:"css",label:"CSS",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-css",metastring:'title="style.css"',title:'"style.css"'},"body {\n  text-align: center;\n}\n\n#paymennt-frame {\n  max-width: 370px;\n  margin: 0 auto;\n}\n\n#pay-button {\n  border: none;\n  border-radius: 3px;\n  color: #fff;\n  font-weight: 500;\n  height: 40px;\n  width: 120px;\n  background-color: #13395e;\n  box-shadow: 0 1px 3px 0 rgba(19, 57, 94, 0.4);\n}\n\n#pay-button:active {\n  background-color: #0b2a49;\n  box-shadow: 0 1px 3px 0 rgba(19, 57, 94, 0.4);\n}\n\n#pay-button:hover {\n  background-color: #15406b;\n  box-shadow: 0 2px 5px 0 rgba(19, 57, 94, 0.4);\n}\n\n#pay-button:disabled {\n  background-color: #697887;\n  box-shadow: none;\n}\n\n#pay-button:not(:disabled) {\n  cursor: pointer;\n}\n\n.card-frame {\n  border: solid 1px #13395e;\n  border-radius: 3px;\n  width: 100%;\n  padding: 5px;\n  margin-bottom: 8px;\n  height: 100px;\n  box-shadow: 0 1px 3px 0 rgba(19, 57, 94, 0.2);\n}\n\n.error-message {\n  color: red;\n  font-weight: 600;\n}\n\n.info-message {\n  color: green;\n  font-weight: 600;\n}\n")))),(0,o.kt)("h2",{id:"test-the-integration"},"Test the Integration"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Go to your website's add a products to your cart."),(0,o.kt)("li",{parentName:"ol"},"Go to your cart then proceed to the checkout, Enter the required customer and billing details ... ."),(0,o.kt)("li",{parentName:"ol"},"Select the ",(0,o.kt)("strong",{parentName:"li"},"paymennt.com payment method"),"."),(0,o.kt)("li",{parentName:"ol"},"Enter the following card details:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Number: ",(0,o.kt)("inlineCode",{parentName:"li"},"4242 4242 4242 4242")),(0,o.kt)("li",{parentName:"ul"},"Expiry date: ",(0,o.kt)("inlineCode",{parentName:"li"},"12/25")),(0,o.kt)("li",{parentName:"ul"},"CVV: ",(0,o.kt)("inlineCode",{parentName:"li"},"100")),(0,o.kt)("li",{parentName:"ul"},"Name: ",(0,o.kt)("inlineCode",{parentName:"li"},"TEST USER")))),(0,o.kt)("li",{parentName:"ol"},"Check the status of the payment on your backend administration panel.")),(0,o.kt)("h2",{id:"checkout-statuses"},"Checkout Statuses"),(0,o.kt)("p",null,"A checkout can have multiple statuses that describe the current state that the checkout is in."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"STATUS"),(0,o.kt)("th",{parentName:"tr",align:null},"DETAILS"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"PENDING")),(0,o.kt)("td",{parentName:"tr",align:null},"New Checkout. User has not completed the payment.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"AUTHORIZED")),(0,o.kt)("td",{parentName:"tr",align:null},"The payment has been authorized, a subsequent Capture or Cancel payment API call is expected before the checkout Expires.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"PAID")),(0,o.kt)("td",{parentName:"tr",align:null},"This status is effective when a customer has successfully completed the payment associated with this checkout.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"FAILED")),(0,o.kt)("td",{parentName:"tr",align:null},"Payment failed due to payment failure. ",(0,o.kt)("strong",{parentName:"td"},"paymennt")," failed to recover such a checkout process.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"CANCELLED")),(0,o.kt)("td",{parentName:"tr",align:null},"User cancelled the checkout process and returned to the merchant page.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"EXPIRED")),(0,o.kt)("td",{parentName:"tr",align:null},"Checkout has expired without being processed")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"REFUNDED")),(0,o.kt)("td",{parentName:"tr",align:null},"Checkout has been fully refunded to the Shopper")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"PARTIALLY_REFUNDED")),(0,o.kt)("td",{parentName:"tr",align:null},"Checkout have been partially refunded to the shopper")))))}h.isMDXComponent=!0},1024:function(e,t,n){t.Z=n.p+"assets/images/web-payment-frames-flow-d07b5e8cc8d37377934ee5c47089ce07.png"}}]);